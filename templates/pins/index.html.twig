{% extends 'base.html.twig' %}

{% block title %}Hello PinsController!{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    {% if pins|length > 0 %}
    
          <h1 class="mt-5 text-center text-muted">{{pluralize(pins.getTotalItemCount, 'Pin', 'Pins')}}</h1>
    
        {% for row in pins|batch(3) %}
            <div class="row mb-5">
            
        
                {% for pin in row %}
                    <div class="col-md-4">
                        <article class="pin bg-white rounded shadow">
                            <div class="mw-100 overflow-hidden rounded-top">
                                <a href="{{path("app_pins_show",{id: pin.id}) }}">
                                    <img src="{{ (pin.imageName ? vich_uploader_asset(pin) : asset('images/Picture2.jpg')) | imagine_filter('squared_thumbnail_medium') }}" alt="{{pin.titre}}" class="w-100 ">
                                </a>
                            
                            </div>
                        
                            <h1 class="h5 px-4 pt-3"><a href="{{path("app_pins_show",{id: pin.id}) }}" class="text-secondary text-decoration-none">{{pin.titre}}</a> </h1>
                            <p class="pb-3 px-4 text-muted"><small>submitted by {{pin.user.prenom}} {{pin.user.nom}}</small></p>
                        </article>
                    </div>
                   
                {% endfor %}
            </div>


        {% endfor %}

        <div class="pagination">
            {{ knp_pagination_render(pins) }}
        </div>

    {% else %}

        <p class="mt-5 h1 text-center">No pins yet . <a href="{{path ('app_pins_create')}}">Be the first</a></p>
    
    {% endif %}

  


{% endblock %}
